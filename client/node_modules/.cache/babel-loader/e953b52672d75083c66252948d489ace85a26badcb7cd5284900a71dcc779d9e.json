{"ast":null,"code":"var _jsxFileName = \"/Users/fatima/Documents/bachelor-metchat/client/src/components/Register.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { authenticationRoute } from \"../APIRoutes\";\nimport \"../home.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Register() {\n  _s();\n  const navigate = useNavigate();\n  const [values, setValues] = useState({\n    fname: \"\",\n    lname: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\"\n  });\n  const handleChange = event => {\n    setValues({\n      ...values,\n      [event.target.name]: event.target.value\n    });\n  };\n  const handleValidation = () => {\n    const {\n      fname,\n      lname,\n      email,\n      password,\n      confirmPassword\n    } = values;\n    if (password !== confirmPassword) {\n      alert(\"Feltene for passord er ikke like.\");\n      return false;\n    } else if (fname.length < 3) {\n      alert(\"Fornavn må være minst tre bokstaver.\");\n      return false;\n    } else if (lname.length < 2) {\n      alert(\"Etternavn må være minst to bokstaver.\");\n      return false;\n    } else if (!/^[a-zæøåA-ZÆØÅ()]+$/.test(fname) || !/^[a-zæøåA-ZÆØÅ()]+$/.test(lname)) {\n      alert(\"Navnet ditt kan bare bestå av bokstaver fra det norske alfabetet.\");\n      return false;\n    } else if (password.length < 8) {\n      alert(\"Passordet må være minst åtte(8) tegn.\");\n      return false;\n    } else if (!/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(email)) {\n      alert(\"E-post er i feil format.\");\n      return false;\n    } // regex for e-post\n\n    return true;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (handleValidation()) {\n      const {\n        fname,\n        lname,\n        email,\n        password\n      } = values;\n      await axios.post(`${authenticationRoute}/register`, {\n        firstName: fname,\n        lastName: lname,\n        email,\n        password\n      }).then(response => {\n        localStorage.setItem(\"metchat-user\", JSON.stringify(response.data.user));\n        alert(\"Bruker opprettet\"); // Noe bedre å si?\n      }).catch(err => {\n        alert(err.response.data.message);\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    id: \"reg\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"form_reg\",\n      onSubmit: e => handleSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Fornavn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"fname\",\n          required: true,\n          id: \"first_name\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Etternavn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"lname\",\n          required: true,\n          id: \"last_name\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Epost\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"email\",\n          required: true,\n          id: \"email_reg\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Passord\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          required: true,\n          id: \"password_reg\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Gjenta Passord\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"confirmPassword\",\n          required: true,\n          id: \"repeat_passowrd\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-reg\",\n        type: \"submit\",\n        children: \"Registrer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"QethMXBP+p8i1puCYGrEn5CFxKQ=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useNavigate","axios","authenticationRoute","Register","navigate","values","setValues","fname","lname","email","password","confirmPassword","handleChange","event","target","name","value","handleValidation","alert","length","test","handleSubmit","e","preventDefault","post","firstName","lastName","then","response","localStorage","setItem","JSON","stringify","data","user","catch","err","message"],"sources":["/Users/fatima/Documents/bachelor-metchat/client/src/components/Register.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { authenticationRoute } from \"../APIRoutes\";\nimport \"../home.css\";\n\nfunction Register() {\n  const navigate = useNavigate();\n\n  const [values, setValues] = useState({\n    fname: \"\",\n    lname: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n\n  const handleChange = (event) => {\n    setValues({ ...values, [event.target.name]: event.target.value });\n  };\n\n  const handleValidation = () => {\n    const { fname, lname, email, password, confirmPassword } = values;\n    if (password !== confirmPassword) {\n      alert(\"Feltene for passord er ikke like.\");\n      return false;\n    } else if (fname.length < 3) {\n      alert(\"Fornavn må være minst tre bokstaver.\");\n      return false;\n    } else if (lname.length < 2) {\n      alert(\"Etternavn må være minst to bokstaver.\");\n      return false;\n    } else if (\n      !/^[a-zæøåA-ZÆØÅ()]+$/.test(fname) ||\n      !/^[a-zæøåA-ZÆØÅ()]+$/.test(lname)\n    ) {\n      alert(\n        \"Navnet ditt kan bare bestå av bokstaver fra det norske alfabetet.\"\n      );\n      return false;\n    } else if (password.length < 8) {\n      alert(\"Passordet må være minst åtte(8) tegn.\");\n      return false;\n    } else if (\n      !/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(\n        email\n      )\n    ) {\n      alert(\"E-post er i feil format.\");\n      return false;\n    } // regex for e-post\n\n    return true;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (handleValidation()) {\n      const { fname, lname, email, password } = values;\n      await axios.post(`${authenticationRoute}/register`, {\n        firstName: fname,\n        lastName: lname,\n        email,\n        password,\n      })\n      .then(response => {\n        localStorage.setItem(\"metchat-user\", JSON.stringify(response.data.user));\n        alert(\"Bruker opprettet\"); // Noe bedre å si?\n      })\n      .catch(err => {\n        alert(err.response.data.message);\n      });\n\n    }\n  };\n\n  return (\n    <div className=\"content\" id=\"reg\">\n      <form id=\"form_reg\" onSubmit={(e) => handleSubmit(e)}>\n        <div className=\"form-row\">\n          <label>Fornavn</label>\n          <input\n            type=\"text\"\n            name=\"fname\"\n            required\n            id=\"first_name\"\n            onChange={(e) => handleChange(e)}\n          />\n        </div>\n        <div className=\"form-row\">\n          <label>Etternavn</label>\n          <input\n            type=\"text\"\n            name=\"lname\"\n            required\n            id=\"last_name\"\n            onChange={(e) => handleChange(e)}\n          />\n        </div>\n        <div className=\"form-row\">\n          <label>Epost</label>\n          <input\n            type=\"text\"\n            name=\"email\"\n            required\n            id=\"email_reg\"\n            onChange={(e) => handleChange(e)}\n          />\n        </div>\n        <div className=\"form-row\">\n          <label>Passord</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            required\n            id=\"password_reg\"\n            onChange={(e) => handleChange(e)}\n          />\n        </div>\n        <div className=\"form-row\">\n          <label>Gjenta Passord</label>\n          <input\n            type=\"password\"\n            name=\"confirmPassword\"\n            required\n            id=\"repeat_passowrd\"\n            onChange={(e) => handleChange(e)}\n          />\n        </div>\n        <button className=\"btn-reg\" type=\"submit\">\n          Registrer\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}