{"ast":null,"code":"var _jsxFileName = \"/Users/fatima/Documents/bachelor-metchat/client/src/components/Register.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { authenticationRoute } from \"../APIRoutes\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Register() {\n  _s();\n  const [values, setValues] = useState({\n    fname: \"\",\n    lname: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\"\n  });\n  const handleChange = event => {\n    setValues({\n      ...values,\n      [event.target.name]: event.target.value\n    });\n  };\n  const handleValidation = () => {\n    const {\n      fname,\n      lname,\n      email,\n      password,\n      confirmPassword\n    } = values;\n    if (password !== confirmPassword) {\n      alert(\"Feltene for passord er ikke like.\");\n      return false;\n    } else if (fname.length < 3) {\n      alert(\"Fornavn må være minst tre bokstaver.\");\n      return false;\n    } else if (lname.length < 2) {\n      alert(\"Etternavn må være minst to bokstaver.\");\n      return false;\n    } else if (!/^[a-zæøåA-ZÆØÅ()]+$/.test(fname) || !/^[a-zæøåA-ZÆØÅ()]+$/.test(lname)) {\n      alert(\"Navnet ditt kan bare bestå av bokstaver fra det norske alfabetet.\");\n      return false;\n    } else if (password.length < 8) {\n      alert(\"Passordet må være minst åtte(8) tegn.\");\n      return false;\n    } else if (!/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(email)) {\n      alert(\"E-post er i feil format.\");\n      return false;\n    } // regex for e-post\n\n    return true;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (handleValidation()) {\n      const {\n        fname,\n        lname,\n        email,\n        password\n      } = values;\n      const {\n        data\n      } = await axios.post(`${authenticationRoute}/register`, {\n        firstName: fname,\n        lastName: lname,\n        email,\n        password\n      }).then(res => {\n        console.log(`${res.status}, ${res.json().message}`);\n        if (res.status === 500 || res.status === false) {\n          alert(data.msg);\n        } else if (res.status === 200) {\n          localStorage.setItem(\"metchat-user\", JSON.stringify(data.user));\n          alert(\"Bruker opprettet\"); // Noe bedre å si?\n        }\n\n        return res.json();\n      }).then(res => {\n        alert(data.msg);\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    id: \"reg\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"form_reg\",\n      onSubmit: e => handleSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Fornavn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"fname\",\n          required: true,\n          id: \"first_name\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Etternavn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"lname\",\n          required: true,\n          id: \"last_name\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Epost\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"email\",\n          required: true,\n          id: \"email_reg\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Passord\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          required: true,\n          id: \"password_reg\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Gjenta Passord\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"confirmPassword\",\n          required: true,\n          id: \"repeat_passowrd\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-reg\",\n        type: \"submit\",\n        children: \"Registrer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"LQbP7bz/qL7q9YySoXUN/oxUkAQ=\");\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","axios","authenticationRoute","Register","values","setValues","fname","lname","email","password","confirmPassword","handleChange","event","target","name","value","handleValidation","alert","length","test","handleSubmit","e","preventDefault","data","post","firstName","lastName","then","res","console","log","status","json","message","msg","localStorage","setItem","JSON","stringify","user"],"sources":["/Users/fatima/Documents/bachelor-metchat/client/src/components/Register.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { authenticationRoute } from \"../APIRoutes\";\n\nfunction Register() {\n  const [values, setValues] = useState({\n    fname: \"\",\n    lname: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n\n  const handleChange = (event) => {\n    setValues({ ...values, [event.target.name]: event.target.value });\n  };\n\n  const handleValidation = () => {\n    const { fname, lname, email, password, confirmPassword } = values;\n    if (password !== confirmPassword) {\n      alert(\"Feltene for passord er ikke like.\");\n      return false;\n    } else if (fname.length < 3) {\n      alert(\"Fornavn må være minst tre bokstaver.\");\n      return false;\n    } else if (lname.length < 2) {\n      alert(\"Etternavn må være minst to bokstaver.\");\n      return false;\n    } else if (\n      !/^[a-zæøåA-ZÆØÅ()]+$/.test(fname) ||\n      !/^[a-zæøåA-ZÆØÅ()]+$/.test(lname)\n    ) {\n      alert(\n        \"Navnet ditt kan bare bestå av bokstaver fra det norske alfabetet.\"\n      );\n      return false;\n    } else if (password.length < 8) {\n      alert(\"Passordet må være minst åtte(8) tegn.\");\n      return false;\n    } else if (\n      !/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(\n        email\n      )\n    ) {\n      alert(\"E-post er i feil format.\");\n      return false;\n    } // regex for e-post\n\n    return true;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (handleValidation()) {\n      const { fname, lname, email, password } = values;\n      const { data } = await axios.post(`${authenticationRoute}/register`, {\n        firstName: fname,\n        lastName: lname,\n        email,\n        password,\n      })\n      .then(res => {\n        console.log(`${res.status}, ${res.json().message}`);\n        if (res.status === 500 || res.status === false) {\n          alert(data.msg);\n        } else if (res.status === 200) {\n          localStorage.setItem(\"metchat-user\", JSON.stringify(data.user));\n          alert(\"Bruker opprettet\"); // Noe bedre å si?\n        }\n        return res.json()\n      })\n      .then(res => {\n          alert(data.msg);\n      })\n\n    }\n  };\n\n  return (\n    <div className=\"content\" id=\"reg\">\n      <form id=\"form_reg\" onSubmit={(e) => handleSubmit(e)}>\n        <div className=\"form-row\">\n          <label>Fornavn</label>\n          <input\n            type=\"text\"\n            name=\"fname\"\n            required\n            id=\"first_name\"\n            onChange={(e) => handleChange(e)}\n          />\n        </div>\n        <div className=\"form-row\">\n          <label>Etternavn</label>\n          <input\n            type=\"text\"\n            name=\"lname\"\n            required\n            id=\"last_name\"\n            onChange={(e) => handleChange(e)}\n          />\n        </div>\n        <div className=\"form-row\">\n          <label>Epost</label>\n          <input\n            type=\"text\"\n            name=\"email\"\n            required\n            id=\"email_reg\"\n            onChange={(e) => handleChange(e)}\n          />\n        </div>\n        <div className=\"form-row\">\n          <label>Passord</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            required\n            id=\"password_reg\"\n            onChange={(e) => handleChange(e)}\n          />\n        </div>\n        <div className=\"form-row\">\n          <label>Gjenta Passord</label>\n          <input\n            type=\"password\"\n            name=\"confirmPassword\"\n            required\n            id=\"repeat_passowrd\"\n            onChange={(e) => handleChange(e)}\n          />\n        </div>\n        <button className=\"btn-reg\" type=\"submit\">\n          Registrer\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default Register;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,mBAAmB,QAAQ,cAAc;AAAC;AAEnD,SAASC,QAAQ,GAAG;EAAA;EAClB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGL,QAAQ,CAAC;IACnCM,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE,EAAE;IACZC,eAAe,EAAE;EACnB,CAAC,CAAC;EAEF,MAAMC,YAAY,GAAIC,KAAK,IAAK;IAC9BP,SAAS,CAAC;MAAE,GAAGD,MAAM;MAAE,CAACQ,KAAK,CAACC,MAAM,CAACC,IAAI,GAAGF,KAAK,CAACC,MAAM,CAACE;IAAM,CAAC,CAAC;EACnE,CAAC;EAED,MAAMC,gBAAgB,GAAG,MAAM;IAC7B,MAAM;MAAEV,KAAK;MAAEC,KAAK;MAAEC,KAAK;MAAEC,QAAQ;MAAEC;IAAgB,CAAC,GAAGN,MAAM;IACjE,IAAIK,QAAQ,KAAKC,eAAe,EAAE;MAChCO,KAAK,CAAC,mCAAmC,CAAC;MAC1C,OAAO,KAAK;IACd,CAAC,MAAM,IAAIX,KAAK,CAACY,MAAM,GAAG,CAAC,EAAE;MAC3BD,KAAK,CAAC,sCAAsC,CAAC;MAC7C,OAAO,KAAK;IACd,CAAC,MAAM,IAAIV,KAAK,CAACW,MAAM,GAAG,CAAC,EAAE;MAC3BD,KAAK,CAAC,uCAAuC,CAAC;MAC9C,OAAO,KAAK;IACd,CAAC,MAAM,IACL,CAAC,qBAAqB,CAACE,IAAI,CAACb,KAAK,CAAC,IAClC,CAAC,qBAAqB,CAACa,IAAI,CAACZ,KAAK,CAAC,EAClC;MACAU,KAAK,CACH,mEAAmE,CACpE;MACD,OAAO,KAAK;IACd,CAAC,MAAM,IAAIR,QAAQ,CAACS,MAAM,GAAG,CAAC,EAAE;MAC9BD,KAAK,CAAC,uCAAuC,CAAC;MAC9C,OAAO,KAAK;IACd,CAAC,MAAM,IACL,CAAC,sEAAsE,CAACE,IAAI,CAC1EX,KAAK,CACN,EACD;MACAS,KAAK,CAAC,0BAA0B,CAAC;MACjC,OAAO,KAAK;IACd,CAAC,CAAC;;IAEF,OAAO,IAAI;EACb,CAAC;EAED,MAAMG,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,EAAE;IAClB,IAAIN,gBAAgB,EAAE,EAAE;MACtB,MAAM;QAAEV,KAAK;QAAEC,KAAK;QAAEC,KAAK;QAAEC;MAAS,CAAC,GAAGL,MAAM;MAChD,MAAM;QAAEmB;MAAK,CAAC,GAAG,MAAMtB,KAAK,CAACuB,IAAI,CAAE,GAAEtB,mBAAoB,WAAU,EAAE;QACnEuB,SAAS,EAAEnB,KAAK;QAChBoB,QAAQ,EAAEnB,KAAK;QACfC,KAAK;QACLC;MACF,CAAC,CAAC,CACDkB,IAAI,CAACC,GAAG,IAAI;QACXC,OAAO,CAACC,GAAG,CAAE,GAAEF,GAAG,CAACG,MAAO,KAAIH,GAAG,CAACI,IAAI,EAAE,CAACC,OAAQ,EAAC,CAAC;QACnD,IAAIL,GAAG,CAACG,MAAM,KAAK,GAAG,IAAIH,GAAG,CAACG,MAAM,KAAK,KAAK,EAAE;UAC9Cd,KAAK,CAACM,IAAI,CAACW,GAAG,CAAC;QACjB,CAAC,MAAM,IAAIN,GAAG,CAACG,MAAM,KAAK,GAAG,EAAE;UAC7BI,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEC,IAAI,CAACC,SAAS,CAACf,IAAI,CAACgB,IAAI,CAAC,CAAC;UAC/DtB,KAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC;QAC7B;;QACA,OAAOW,GAAG,CAACI,IAAI,EAAE;MACnB,CAAC,CAAC,CACDL,IAAI,CAACC,GAAG,IAAI;QACTX,KAAK,CAACM,IAAI,CAACW,GAAG,CAAC;MACnB,CAAC,CAAC;IAEJ;EACF,CAAC;EAED,oBACE;IAAK,SAAS,EAAC,SAAS;IAAC,EAAE,EAAC,KAAK;IAAA,uBAC/B;MAAM,EAAE,EAAC,UAAU;MAAC,QAAQ,EAAGb,CAAC,IAAKD,YAAY,CAACC,CAAC,CAAE;MAAA,wBACnD;QAAK,SAAS,EAAC,UAAU;QAAA,wBACvB;UAAA,UAAO;QAAO;UAAA;UAAA;UAAA;QAAA,QAAQ,eACtB;UACE,IAAI,EAAC,MAAM;UACX,IAAI,EAAC,OAAO;UACZ,QAAQ;UACR,EAAE,EAAC,YAAY;UACf,QAAQ,EAAGA,CAAC,IAAKV,YAAY,CAACU,CAAC;QAAE;UAAA;UAAA;UAAA;QAAA,QACjC;MAAA;QAAA;QAAA;QAAA;MAAA,QACE,eACN;QAAK,SAAS,EAAC,UAAU;QAAA,wBACvB;UAAA,UAAO;QAAS;UAAA;UAAA;UAAA;QAAA,QAAQ,eACxB;UACE,IAAI,EAAC,MAAM;UACX,IAAI,EAAC,OAAO;UACZ,QAAQ;UACR,EAAE,EAAC,WAAW;UACd,QAAQ,EAAGA,CAAC,IAAKV,YAAY,CAACU,CAAC;QAAE;UAAA;UAAA;UAAA;QAAA,QACjC;MAAA;QAAA;QAAA;QAAA;MAAA,QACE,eACN;QAAK,SAAS,EAAC,UAAU;QAAA,wBACvB;UAAA,UAAO;QAAK;UAAA;UAAA;UAAA;QAAA,QAAQ,eACpB;UACE,IAAI,EAAC,MAAM;UACX,IAAI,EAAC,OAAO;UACZ,QAAQ;UACR,EAAE,EAAC,WAAW;UACd,QAAQ,EAAGA,CAAC,IAAKV,YAAY,CAACU,CAAC;QAAE;UAAA;UAAA;UAAA;QAAA,QACjC;MAAA;QAAA;QAAA;QAAA;MAAA,QACE,eACN;QAAK,SAAS,EAAC,UAAU;QAAA,wBACvB;UAAA,UAAO;QAAO;UAAA;UAAA;UAAA;QAAA,QAAQ,eACtB;UACE,IAAI,EAAC,UAAU;UACf,IAAI,EAAC,UAAU;UACf,QAAQ;UACR,EAAE,EAAC,cAAc;UACjB,QAAQ,EAAGA,CAAC,IAAKV,YAAY,CAACU,CAAC;QAAE;UAAA;UAAA;UAAA;QAAA,QACjC;MAAA;QAAA;QAAA;QAAA;MAAA,QACE,eACN;QAAK,SAAS,EAAC,UAAU;QAAA,wBACvB;UAAA,UAAO;QAAc;UAAA;UAAA;UAAA;QAAA,QAAQ,eAC7B;UACE,IAAI,EAAC,UAAU;UACf,IAAI,EAAC,iBAAiB;UACtB,QAAQ;UACR,EAAE,EAAC,iBAAiB;UACpB,QAAQ,EAAGA,CAAC,IAAKV,YAAY,CAACU,CAAC;QAAE;UAAA;UAAA;UAAA;QAAA,QACjC;MAAA;QAAA;QAAA;QAAA;MAAA,QACE,eACN;QAAQ,SAAS,EAAC,SAAS;QAAC,IAAI,EAAC,QAAQ;QAAA,UAAC;MAE1C;QAAA;QAAA;QAAA;MAAA,QAAS;IAAA;MAAA;MAAA;MAAA;IAAA;EACJ;IAAA;IAAA;IAAA;EAAA,QACH;AAEV;AAAC,GArIQlB,QAAQ;AAAA,KAARA,QAAQ;AAuIjB,eAAeA,QAAQ;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}