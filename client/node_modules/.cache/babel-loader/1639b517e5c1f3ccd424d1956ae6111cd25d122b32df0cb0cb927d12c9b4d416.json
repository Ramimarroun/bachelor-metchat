{"ast":null,"code":"var _jsxFileName = \"/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeni\\xF8r/DATA3900 Bacheloroppgave/bachelor-metchat/src/components/Register.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { authenticationRoute } from \"../APIRoutes\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Register() {\n  _s();\n  const [values, setValues] = useState({\n    fname: \"\",\n    lname: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\"\n  });\n  const handleChange = event => {\n    setValues({\n      ...values,\n      [event.target.name]: event.target.value\n    });\n  };\n  const handleValidation = () => {\n    const {\n      fname,\n      lname,\n      email,\n      password,\n      confirmPassword\n    } = values;\n    if (password !== confirmPassword) {\n      alert(\"Feltene for passord er ikke like.\");\n      return false;\n    } else if (fname.length < 3) {\n      alert(\"Fornavn må være minst tre bokstaver.\");\n      return false;\n    } else if (lname.length < 2) {\n      alert(\"Etternavn må være minst to bokstaver.\");\n      return false;\n    } else if (!/^[a-zæøåA-ZÆØÅ()]+$/.test(fname) || !/^[a-zæøåA-ZÆØÅ()]+$/.test(lname)) {\n      alert(\"Navnet ditt kan bare bestå av bokstaver fra det norske alfabetet.\");\n      return false;\n    } else if (password.length < 8) {\n      alert(\"Passordet må være minst åtte(8) tegn.\");\n      return false;\n    } else if (!/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(email)) {\n      alert(\"E-post er i feil format.\");\n      return false;\n    } // regex for e-post\n\n    return true;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (handleValidation()) {\n      const {\n        fname,\n        lname,\n        email,\n        password\n      } = values;\n      const {\n        data\n      } = await axios.post(`${authenticationRoute}/register`, {\n        firstName: fname,\n        lastName: lname,\n        email,\n        password\n      });\n      if (data.status === 500 || data.status === false) {\n        alert(data.msg);\n      } else if (data.status === true) {\n        localStorage.setItem(\"metchat-user\", JSON.stringify(data.user));\n        alert(\"Bruker opprettet\"); // Noe bedre å si?\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    id: \"reg\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"form_reg\",\n      onSubmit: e => handleSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Fornavn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"fname\",\n          required: true,\n          id: \"first_name\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Etternavn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"lname\",\n          required: true,\n          id: \"last_name\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Epost\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"email\",\n          required: true,\n          id: \"email_reg\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Passord\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          required: true,\n          id: \"password_reg\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Gjenta Passord\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"confirmPassword\",\n          required: true,\n          id: \"repeat_passowrd\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-reg\",\n        type: \"submit\",\n        children: \"Registrer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"LQbP7bz/qL7q9YySoXUN/oxUkAQ=\");\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","axios","authenticationRoute","jsxDEV","_jsxDEV","Register","_s","values","setValues","fname","lname","email","password","confirmPassword","handleChange","event","target","name","value","handleValidation","alert","length","test","handleSubmit","e","preventDefault","data","post","firstName","lastName","status","msg","localStorage","setItem","JSON","stringify","user","className","id","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","required","onChange","_c","$RefreshReg$"],"sources":["/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/src/components/Register.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { authenticationRoute } from \"../APIRoutes\";\n\nfunction Register() {\n  const [values, setValues] = useState({\n    fname: \"\",\n    lname: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n\n  const handleChange = (event) => {\n    setValues({ ...values, [event.target.name]: event.target.value });\n  };\n\n  const handleValidation = () => {\n    const { fname, lname, email, password, confirmPassword } = values;\n    if (password !== confirmPassword) {\n      alert(\"Feltene for passord er ikke like.\");\n      return false;\n    } else if (fname.length < 3) {\n      alert(\"Fornavn må være minst tre bokstaver.\");\n      return false;\n    } else if (lname.length < 2) {\n      alert(\"Etternavn må være minst to bokstaver.\");\n      return false;\n    } else if (\n      !/^[a-zæøåA-ZÆØÅ()]+$/.test(fname) ||\n      !/^[a-zæøåA-ZÆØÅ()]+$/.test(lname)\n    ) {\n      alert(\n        \"Navnet ditt kan bare bestå av bokstaver fra det norske alfabetet.\"\n      );\n      return false;\n    } else if (password.length < 8) {\n      alert(\"Passordet må være minst åtte(8) tegn.\");\n      return false;\n    } else if (\n      !/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(\n        email\n      )\n    ) {\n      alert(\"E-post er i feil format.\");\n      return false;\n    } // regex for e-post\n\n    return true;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (handleValidation()) {\n      const { fname, lname, email, password } = values;\n      const { data } = await axios.post(`${authenticationRoute}/register`, {\n        firstName: fname,\n        lastName: lname,\n        email,\n        password,\n      });\n\n      if (data.status === 500 || data.status === false) {\n        alert(data.msg);\n      } else if (data.status === true) {\n        localStorage.setItem(\"metchat-user\", JSON.stringify(data.user));\n        alert(\"Bruker opprettet\"); // Noe bedre å si?\n      }\n    }\n  };\n\n  return (\n    <div className=\"content\" id=\"reg\">\n      <form id=\"form_reg\" onSubmit={(e) => handleSubmit(e)}>\n        <div className=\"form-row\">\n          <label>Fornavn</label>\n          <input\n            type=\"text\"\n            name=\"fname\"\n            required\n            id=\"first_name\"\n            onChange={(e) => handleChange(e)}\n          />\n        </div>\n        <div className=\"form-row\">\n          <label>Etternavn</label>\n          <input\n            type=\"text\"\n            name=\"lname\"\n            required\n            id=\"last_name\"\n            onChange={(e) => handleChange(e)}\n          />\n        </div>\n        <div className=\"form-row\">\n          <label>Epost</label>\n          <input\n            type=\"text\"\n            name=\"email\"\n            required\n            id=\"email_reg\"\n            onChange={(e) => handleChange(e)}\n          />\n        </div>\n        <div className=\"form-row\">\n          <label>Passord</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            required\n            id=\"password_reg\"\n            onChange={(e) => handleChange(e)}\n          />\n        </div>\n        <div className=\"form-row\">\n          <label>Gjenta Passord</label>\n          <input\n            type=\"password\"\n            name=\"confirmPassword\"\n            required\n            id=\"repeat_passowrd\"\n            onChange={(e) => handleChange(e)}\n          />\n        </div>\n        <button className=\"btn-reg\" type=\"submit\">\n          Registrer\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}