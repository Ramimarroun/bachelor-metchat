{"ast":null,"code":"var _jsxFileName = \"/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeni\\xF8r/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/Chat.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { io } from \"socket.io-client\";\nimport { /*Link,*/useNavigate } from \"react-router-dom\";\nimport { /*profileRoute,*/conversationRoute } from \"./APIRoutes\";\nimport Nav from \"./components/MainNav\";\nimport ChatContainer from \"./components/ChatContainer\";\nimport \"./style.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Chat() {\n  _s();\n  const navigate = useNavigate(),\n    [self, setSelf] = useState({}),\n    [conversation, setConversation] = useState([]);\n\n  //remove if not needed.\n  useEffect(() => {\n    async function fetchData() {\n      if (!localStorage.getItem(\"metchat-user\")) {\n        navigate(\"/\");\n      } else {\n        const data = await JSON.parse(localStorage.getItem(\"metchat-user\"));\n      }\n    }\n    fetchData();\n  }, [navigate]);\n  useEffect(() => {\n    async function getConversations() {\n      await axios.get(`${conversationRoute}/conversations`, {\n        id: self._id\n      }).then(async response => {\n        let conversation = response.data.conversation;\n        setConversation(conversation);\n      }).catch(err => {\n        console.log(err);\n        alert(err.response.data);\n      });\n    }\n    getConversations();\n  }, [self]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      id: \"msg-body\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-3\",\n        id: \"left-side\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"search\",\n            className: \"form-control rounded\",\n            placeholder: \"S\\xF8k\",\n            \"aria-label\": \"Search\",\n            \"aria-describedby\": \"search-addon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-outline-primary\",\n            children: \"s\\xF8k\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"CONVERSATION NAME\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: \"CONVERSATION PARTNER\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        id: \"middel\",\n        children: /*#__PURE__*/_jsxDEV(ChatContainer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        id: \"right-side\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          class: \"part-1\",\n          src: \"profile.svg\",\n          alt: \"profile-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"part-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"profile.svg\",\n            alt: \"profile-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Profil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"part-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Profil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"S\\xF8k i chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Chat, \"f9uO42cALR7tiBShbE6kuR9MWwM=\", false, function () {\n  return [useNavigate];\n});\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","axios","io","useNavigate","conversationRoute","Nav","ChatContainer","Chat","navigate","self","setSelf","conversation","setConversation","fetchData","localStorage","getItem","data","JSON","parse","getConversations","get","id","_id","then","response","catch","err","console","log","alert"],"sources":["/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/Chat.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { io } from \"socket.io-client\";\nimport { /*Link,*/ useNavigate } from \"react-router-dom\";\nimport { /*profileRoute,*/ conversationRoute } from \"./APIRoutes\";\nimport Nav from \"./components/MainNav\";\nimport ChatContainer from \"./components/ChatContainer\";\nimport \"./style.css\";\n\nfunction Chat() {\n  const navigate = useNavigate(),\n    [self, setSelf] = useState({}),\n    [conversation, setConversation] = useState([]);\n\n  //remove if not needed.\n  useEffect(() => {\n    async function fetchData() {\n      if (!localStorage.getItem(\"metchat-user\")) {\n        navigate(\"/\");\n      } else {\n        const data = await JSON.parse(localStorage.getItem(\"metchat-user\"));\n      }\n    }\n    fetchData();\n  }, [navigate]);\n\n  useEffect(() => {\n    async function getConversations() {\n      await axios\n        .get(`${conversationRoute}/conversations`, {\n          id: self._id,\n        })\n        .then(async (response) => {\n          let conversation = response.data.conversation;\n\n          setConversation(conversation);\n        })\n        .catch((err) => {\n          console.log(err);\n          alert(err.response.data);\n        });\n    }\n    getConversations();\n  }, [self]);\n\n  return (\n    <>\n      {/*<Nav />*/}\n      <Nav />\n      <div className=\"row\" id=\"msg-body\">\n        {/* LEFT */}\n        <div className=\"col-lg-3\" id=\"left-side\">\n          {/* SEARCH */}\n          <div className=\"input-group\">\n            <input\n              type=\"search\"\n              className=\"form-control rounded\"\n              placeholder=\"Søk\"\n              aria-label=\"Search\"\n              aria-describedby=\"search-addon\"\n            />\n            <button type=\"button\" className=\"btn btn-outline-primary\">\n              søk\n            </button>\n          </div>\n          {/* CONVERSATIONS */}\n          {/* not currently working, delete if better solution found */}\n          {/*{conversation.map((conversation, i) => (\n            <div key={i}>\n              <h2>{conversation.name}</h2>\n              <small>{conversation.conact}</small>\n            </div>\n          ))}*/}\n          <h2>CONVERSATION NAME</h2>\n          <small>CONVERSATION PARTNER</small>\n        </div>\n\n        {/* MIDDLE */}\n        <div className=\"col-md-6\" id=\"middel\">\n          <ChatContainer />\n        </div>\n\n        {/* RIGHT */}\n        <div className=\"col-md-3\" id=\"right-side\">\n          <img class=\"part-1\" src=\"profile.svg\" alt=\"profile-icon\" />\n          <div class=\"part-2\">\n            <img src=\"profile.svg\" alt=\"profile-icon\" />\n            <p>Profil</p>\n          </div>\n          <div class=\"part-3\">\n            <p>Profil</p>\n            <p>Søk i chat</p>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Chat;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}