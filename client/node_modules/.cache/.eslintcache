<<<<<<< HEAD
[{"/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/index.js":"1","/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/App.js":"2","/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/Chat.jsx":"3","/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/Contacts.jsx":"4","/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/MoreInfo.jsx":"5","/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/Welcome.jsx":"6","/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/admin/Conversations.jsx":"7","/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/APIRoutes.js":"8","/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/components/MainNav.jsx":"9","/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/components/ChatContainer.jsx":"10","/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/components/Register.jsx":"11","/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/components/login.jsx":"12","/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/admin/AdminNav.jsx":"13"},{"size":541,"mtime":1681291475943,"results":"14","hashOfConfig":"15"},{"size":889,"mtime":1681981594429,"results":"16","hashOfConfig":"15"},{"size":6974,"mtime":1681908343926,"results":"17","hashOfConfig":"15"},{"size":3862,"mtime":1681826721301,"results":"18","hashOfConfig":"15"},{"size":3724,"mtime":1681903330876,"results":"19","hashOfConfig":"15"},{"size":5459,"mtime":1681925366849,"results":"20","hashOfConfig":"15"},{"size":2895,"mtime":1681986378032,"results":"21","hashOfConfig":"15"},{"size":460,"mtime":1680525402952,"results":"22","hashOfConfig":"15"},{"size":635,"mtime":1681927257103,"results":"23","hashOfConfig":"15"},{"size":3683,"mtime":1681826721304,"results":"24","hashOfConfig":"15"},{"size":3875,"mtime":1681826721306,"results":"25","hashOfConfig":"15"},{"size":4390,"mtime":1681925366852,"results":"26","hashOfConfig":"15"},{"size":644,"mtime":1681981631778,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"12ymk3a",{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"38"},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/index.js",[],[],"/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/App.js",[],[],"/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/Chat.jsx",["69","70","71"],[],"import React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { io } from \"socket.io-client\";\nimport { /*Link,*/ useNavigate } from \"react-router-dom\";\nimport { contactRoute, conversationRoute, messageRoute } from \"./APIRoutes\";\nimport { IoMdSend } from \"react-icons/io\";\nimport Nav from \"./components/MainNav\";\nimport ChatContainer from \"./components/ChatContainer\";\nimport \"./chat.css\";\n\nfunction Chat() {\n  const navigate = useNavigate(),\n    scrollRef = useRef(),\n    socket = useRef(),\n    [self, setSelf] = useState({}),\n    [msg, setMsg] = useState(\"\"),\n    [messages, setMessages] = useState([]),\n    // [incomingMessage, setIncomingMessage] = useState(null),\n    [conversations, setConversations] = useState([]),\n    [currentChat, setCurrentChat] = useState({}),\n    [selectedChat, setSelectedChat] = useState(null);\n\n  useEffect(() => {\n    async function fetchData() {\n      if (!localStorage.getItem(\"metchat-user\")) navigate(\"/\");\n      else {\n        const data = await JSON.parse(localStorage.getItem(\"metchat-user\"));\n        setSelf(data);\n      }\n    }\n    fetchData();\n  }, [navigate]);\n\n  // get conversations\n  useEffect(() => {\n    async function getConversations() {\n      await axios\n        .get(`${conversationRoute}/conversations`, {\n          params: { id: self._id },\n        })\n        .then(async (response) => {\n          const conversations = response.data,\n            count = conversations.length;\n\n          for (let i = 0; i < count; i++) {\n            const contact =\n              conversations[i].toId === self._id\n                ? conversations[i].fromId\n                : conversations[i].toId;\n\n            await axios\n              .get(`${contactRoute}/getUser`, {\n                params: { id: contact },\n              })\n              .then((response) => {\n                conversations[i][\"toData\"] = response.data;\n              })\n              .catch((err) => {\n                conversations[i][\"toData\"] = [];\n                alert(err.response.data);\n              });\n          }\n          setConversations(conversations);\n        })\n        .catch((err) => {\n          console.log(err);\n          alert(err.response.data);\n        });\n    }\n    getConversations();\n  }, [self]);\n\n  // get messages\n  useEffect(() => {\n    if (currentChat) {\n      async function getMessages() {\n        const response = await axios.get(`${messageRoute}/getConversation`, {\n          params: { conversationId: currentChat._id },\n        });\n        // console.log(response.data[0]);\n        setMessages(response.data);\n      }\n      getMessages();\n    }\n  }, [currentChat]);\n\n  useEffect(() => {\n    scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages, scrollRef]);\n\n  const sendMsg = (event) => {\n    event.preventDefault();\n    if (msg.length > 0) {\n      handleSendMsg(msg);\n      setMsg(\"\");\n    }\n  };\n\n  const handleSendMsg = async (msg) => {\n    await axios.post(`${messageRoute}/send`, {\n      conversationId: currentChat._id,\n      fromId: self._id,\n      toId: currentChat,\n      message: msg,\n    });\n\n    const newMsg = {\n      conversationId: currentChat._id,\n      fromId: self._id,\n      toId: currentChat,\n      message: msg,\n    };\n\n    /*socket.current.emit(\"msg-send\", {\n      from: currentUser._id,\n      to: currentChat._id,\n      message: msg,\n    });*/\n\n    const msgs = [...messages];\n    msgs.push(newMsg);\n\n    setMessages(msgs);\n  };\n\n  const changeCurrentChat = (conversation, i) => {\n    setCurrentChat(conversation);\n    setSelectedChat(i);\n    // console.log(conversation);\n  };\n\n  return (\n    <>\n      <Nav />\n      <div className=\"row\" id=\"msg-body\">\n        {/* LEFT */}\n        <div className=\"col-lg-3\" id=\"conversations-list\">\n          {/* SEARCH */}\n          <div className=\"input-group\">\n            <input\n              type=\"search\"\n              className=\"form-control rounded\"\n              placeholder=\"Søk\"\n              aria-label=\"Search\"\n              aria-describedby=\"search-addon\"\n            />\n            <button type=\"button\" className=\"btn btn-outline-primary\">\n              søk\n            </button>\n          </div>\n          {/* CONVERSATIONS */}\n          <div className=\"convo-list\">\n            {conversations.map((conversation, i) => (\n              <div\n                key={i}\n                style={{ backgroundColor: i === selectedChat ? \"skyblue\" : \"\" }} //color chat backround (conversation)\n                onClick={() => changeCurrentChat(conversation, i)}\n                className=\"convo-element\"\n              >\n                <h2>{conversation.title}</h2>\n                <small>\n                  {conversation.toData.firstName} {conversation.toData.lastName}\n                </small>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* MIDDLE */}\n        <div className=\"col-md-6\" id=\"middel\">\n          {/* HEADER */}\n          <div className=\"chat-header\">\n            <div className=\"user-info\">\n              <div className=\"convo-patner-img\">\n                <img src=\"profile.svg\" alt=\"\" />\n              </div>\n              <div className=\"convo-title\">\n                <h3>\n                  {Object.keys(currentChat).length !== 0 && (\n                    <a href=\"/samtaler\">{currentChat.title}</a>\n                  )}\n                </h3>\n              </div>\n            </div>\n          </div>\n          {/* CHAT MESSAGES */}\n          <div className=\"chat-messages\">\n            {messages.map((message, i) => (\n              <div key={i} ref={scrollRef}>\n                <div\n                  className={`message ${\n                    message.fromId === self._id ? \"reciever\" : \"sender\"\n                  }`}\n                >\n                  <div className=\"message-content\">\n                    <p>{message.message}</p>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n          {/* INPUT FOR WRITING MESSAGES */}\n          <form className=\"input-container\" onSubmit={(e) => sendMsg(e)}>\n            <input\n              type=\"text\"\n              placeholder=\"Skriv noe her...\"\n              style={{ margin: \"0px\" }}\n              onChange={(e) => setMsg(e.target.value)}\n              value={msg}\n            />\n            <button type=\"submit\">\n              <IoMdSend />\n            </button>\n          </form>\n        </div>\n\n        {/* RIGHT */}\n        <div className=\"col-md-3\" id=\"right-side\">\n          <div className=\"user-info\">\n            <img class=\"part-1\" src=\"profile.svg\" alt=\"profile-icon\" />\n            <h3>LOREM NAMEN</h3>\n          </div>\n          <div class=\"part-2\">\n            <img src=\"profile.svg\" alt=\"profile-icon\" />\n            <p>Til profil</p>\n          </div>\n          <div className=\"convo-options\">\n            <button className=\"delete-convo\">Slett samtale</button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Chat;\n",[],"/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/Contacts.jsx",[],[],"/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/MoreInfo.jsx",["72","73","74","75"],[],"/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/Welcome.jsx",["76","77","78","79","80","81","82"],[],"/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/admin/Conversations.jsx",["83"],[],"/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/APIRoutes.js",[],[],"/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/components/MainNav.jsx",[],[],"/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/components/ChatContainer.jsx",["84","85","86","87","88","89"],[],"/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/components/Register.jsx",[],[],"/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/components/login.jsx",[],[],"/Users/eier/Library/Mobile Documents/com~apple~CloudDocs/Documents/Dataingeniør/DATA3900 Bacheloroppgave/bachelor-metchat/client/src/admin/AdminNav.jsx",[],[],{"ruleId":"90","severity":1,"message":"91","line":3,"column":10,"nodeType":"92","messageId":"93","endLine":3,"endColumn":12},{"ruleId":"90","severity":1,"message":"94","line":8,"column":8,"nodeType":"92","messageId":"93","endLine":8,"endColumn":21},{"ruleId":"90","severity":1,"message":"95","line":14,"column":5,"nodeType":"92","messageId":"93","endLine":14,"endColumn":11},{"ruleId":"90","severity":1,"message":"96","line":10,"column":6,"nodeType":"92","messageId":"93","endLine":10,"endColumn":14},{"ruleId":"90","severity":1,"message":"97","line":34,"column":18,"nodeType":"92","messageId":"93","endLine":34,"endColumn":27},{"ruleId":"98","severity":1,"message":"99","line":77,"column":13,"nodeType":"100","endLine":77,"endColumn":24},{"ruleId":"98","severity":1,"message":"99","line":114,"column":13,"nodeType":"100","endLine":114,"endColumn":24},{"ruleId":"98","severity":1,"message":"99","line":33,"column":13,"nodeType":"100","endLine":33,"endColumn":41},{"ruleId":"98","severity":1,"message":"99","line":46,"column":15,"nodeType":"100","endLine":46,"endColumn":26},{"ruleId":"101","severity":1,"message":"102","line":53,"column":13,"nodeType":"100","endLine":53,"endColumn":54},{"ruleId":"101","severity":1,"message":"102","line":54,"column":13,"nodeType":"100","endLine":54,"endColumn":54},{"ruleId":"101","severity":1,"message":"102","line":137,"column":11,"nodeType":"100","endLine":137,"endColumn":54},{"ruleId":"101","severity":1,"message":"102","line":139,"column":13,"nodeType":"100","endLine":139,"endColumn":58},{"ruleId":"101","severity":1,"message":"102","line":152,"column":11,"nodeType":"100","endLine":152,"endColumn":52},{"ruleId":"98","severity":1,"message":"99","line":44,"column":17,"nodeType":"100","endLine":44,"endColumn":51},{"ruleId":"90","severity":1,"message":"103","line":9,"column":9,"nodeType":"92","messageId":"93","endLine":9,"endColumn":17},{"ruleId":"90","severity":1,"message":"104","line":11,"column":12,"nodeType":"92","messageId":"93","endLine":11,"endColumn":19},{"ruleId":"90","severity":1,"message":"105","line":15,"column":6,"nodeType":"92","messageId":"93","endLine":15,"endColumn":19},{"ruleId":"90","severity":1,"message":"106","line":15,"column":21,"nodeType":"92","messageId":"93","endLine":15,"endColumn":37},{"ruleId":"90","severity":1,"message":"107","line":17,"column":6,"nodeType":"92","messageId":"93","endLine":17,"endColumn":18},{"ruleId":"90","severity":1,"message":"108","line":73,"column":9,"nodeType":"92","messageId":"93","endLine":73,"endColumn":26},"no-unused-vars","'io' is defined but never used.","Identifier","unusedVar","'ChatContainer' is defined but never used.","'socket' is assigned a value but never used.","'userName' is assigned a value but never used.","'interests' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md","JSXOpeningElement","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","'navigate' is assigned a value but never used.","'setSelf' is assigned a value but never used.","'conversations' is assigned a value but never used.","'setConversations' is assigned a value but never used.","'selectedChat' is assigned a value but never used.","'changeCurrentChat' is assigned a value but never used."]
=======
[{"D:\\Oslomet\\Bachleroppgave\\Ny\\frontend\\bachelor-metchat\\client\\src\\components\\MainNav.jsx":"1","D:\\Oslomet\\Bachleroppgave\\Ny\\frontend\\bachelor-metchat\\client\\src\\admin\\AdminNav.jsx":"2"},{"size":662,"mtime":1681930706882,"results":"3","hashOfConfig":"4"},{"size":638,"mtime":1681930706881,"results":"5","hashOfConfig":"4"},{"filePath":"6","messages":"7","suppressedMessages":"8","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"n5pjkh",{"filePath":"9","messages":"10","suppressedMessages":"11","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\Oslomet\\Bachleroppgave\\Ny\\frontend\\bachelor-metchat\\client\\src\\components\\MainNav.jsx",[],[],"D:\\Oslomet\\Bachleroppgave\\Ny\\frontend\\bachelor-metchat\\client\\src\\admin\\AdminNav.jsx",[],[]]
>>>>>>> origin/master
